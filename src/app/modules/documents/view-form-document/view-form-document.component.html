<div class="mainBlock card" id="top2">
    <div class="entete">
        <h1>
            <span routerLink="../../list-documents" title="{{'lists.button2' | translate}}"><i class="fa fa-arrow-left lien" aria-hidden="true"></i></span>
            {{document.titre}}
        </h1>
        <div class="hoverBlock">
            <p class="infoBuble">
                <i class="fa fa-info-circle text-info" aria-hidden="true"></i>
            </p>
            <div class="hoverElement" id="description">
                <div>
                    <span class="title1"> {{'document.table.title2' | translate}} : </span>
                    <p>{{document.description}}</p>
                </div>
                <div>
                    <span class="title1"> {{'services.form.label2' | translate}} : </span>
                    <p>{{document.etat}}</p>
                </div>
                <div>
                    <span> {{"document.table.title18" | translate}} : </span>
                    <p class="title1">{{document.affichagePrix}}</p>
                </div>
                <div>
                    <span> {{"document.table.title19" | translate}} : </span>
                    <p class="title1">{{document.contientRessources}}</p>
                </div>
                <div>
                    <span> {{"document.table.title20" | translate}} : </span>
                    <p class="title1">{{document.contientDistributeurs}}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="infos">
        <p id="titre">
            <span class="title1"> {{'document.table.title1' | translate}} : </span>
            {{document.titre}}
        </p>
        
        <!-- tableau des missions -->
        <p class="title1">
            {{'document.view.text1' | translate}} :
        </p>
        <div class="tableMissions card table-responsive">
            <table class="table table-striped table-sm table-inverse table-bordered">
                <thead class="thead-inverse">
                    <tr>
                        <th>{{'missions.table.title1' | translate}}</th>
                        <th>{{'missions.table.title2' | translate}}</th>
                        <th>{{'missions.table.title3' | translate}}</th>
                        <th>{{'missions.table.title4' | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let misssions of document.missions">
                        <td>{{misssions.libelle}}</td>
                        <td>{{misssions.description}}</td>
                        <td>{{misssions.etat}}</td>
                        <td>{{misssions.dateCreation | date: 'dd/MM/yyyy A hh:mm:ss'}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- tableau des categories -->
        <p class="title1">
            {{'document.view.text3' | translate}} :
        </p>
        <div *ngFor="let categorie of document.categories" id="blockCat">
            <div class="infosCat">
                <p><span>{{'document.table.title8' | translate}} : </span>{{categorie.nom}}</p>
                <p><span>{{'document.table.title14' | translate}} : </span>{{categorie.ordre}}</p>
            </div>
            <div class="tableAttributs card table-responsive">
                <table class="table table-striped table-sm table-inverse table-bordered">
                    <thead class="thead-inverse">
                        <tr>
                            <th class="titre">{{'attributs.table.title1' | translate}}</th>
                            <th class="description">{{'attributs.table.title2' | translate}}</th>
                            <th class="etat">{{'attributs.table.title3' | translate}}</th>
                            <th class="ordre">{{'attributs.table.title7' | translate}}</th>
                            <th class="type">{{'attributs.table.title6' | translate}}</th>
                            <th class="type">{{'attributs.table.title11' | translate}}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let attributParCategorie of categorie.listAttributsParCategories">
                            <td class="titre">{{attributParCategorie.attribut.titre}}</td>
                            <td class="description">{{attributParCategorie.attribut.description}}</td>
                            <td class="etat">{{attributParCategorie.attribut.etat}}</td>
                            <td class="ordre">{{attributParCategorie.ordre}}</td>
                            <td class="type">{{attributParCategorie.attribut.type}}</td>
                            <td class="obligatoire">{{attributParCategorie.obligatoire}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- tableau des preconisations -->
        <p *ngIf="document.preconisations.length>0" class="title1">
            {{'preconisation.view.text1' | translate}} : 
        </p>
        <div *ngIf="document.preconisations.length>0" class="tableAttributs card table-responsive">
            <table class="table table-striped table-sm table-inverse table-bordered">
                <thead class="thead-inverse">
                    <tr>
                        <th>{{'preconisation.table.title1' | translate}}</th>
                        <th>{{'preconisation.table.title2' | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let preconisation of document.preconisations">
                        <td>{{preconisation.libelle}}</td>
                        <td>{{preconisation.type}}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- tableau des sous documents -->
        <p *ngIf="document.sousDocuments != undefined" class="title">
            {{'document.table.title21' | translate}} : 
        </p>
        <div *ngIf="document.sousDocuments != undefined" class="tableAttributs card table-responsive">
            <table class="table table-striped table-sm table-inverse table-bordered">
                <thead class="thead-inverse">
                    <tr>
                        <th>{{'document.table.title1' | translate}}</th>
                        <th>{{'document.table.title2' | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let preconisation of document.sousDocuments">
                        <td>{{preconisation.titre}}</td>
                        <td>{{preconisation.description}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="options">
        <button type="button" [routerLink]="['/document-nouveau',document.id]" class="btn btn-outline-info">
            <i class="fas fa-pen"></i>
            {{'lists.button7' | translate}}
        </button>
        <button type="button" class="btn btn-outline-danger">
            <i class="fas fa-trash"></i>
            {{'lists.button8' | translate}}
        </button>
    </div>
</div>
