<div class="mainBlock card" id="top2">
    <div class="entete">
        <p><span routerLink="../../list-exemplaire" title="{{'lists.button2' | translate}}"><i class="fa fa-arrow-left lien" aria-hidden="true"></i></span></p>
        <h1>
            {{'document.exemplaire.title' | translate}} {{titre}}
        </h1>
        <div class="hoverBlock">
            <p class="infoBuble">
                <i class="fa fa-info-circle text-info" aria-hidden="true"></i>
            </p>
            <div class="hoverElement" id="description">
                <span class="titl"> {{'document.table.title2' | translate}} : </span>
                <p>{{exemplaire.description}}</p>
            </div>
        </div>
    </div>
    <div class="infos">
        <p id="titre">
            <span class="titl"> {{'document.table.title1' | translate}} : </span>
            {{exemplaire.titre}}
        </p>
        <p id="etat">
            <span class="titl"> {{'document.title7' | translate}} : </span>
            {{courant}}
        </p>
        <p class="titl">
            {{'document.exemplaire.text1' | translate}} :
        </p>
        <div class="tableMissions card table-responsive">
            <table class="table table-striped table-sm table-inverse table-bordered">
                <thead class="thead-inverse">
                    <tr>
                        <th>{{'missions.table.title1' | translate}}</th>
                        <th>{{'missions.table.title2' | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let values of exemplaire.objetEnregistre let i = index">
                        <td>{{values.key.titre}}</td>
                        <td>{{values.value}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 *ngIf="exemplaire.contientRessources == true">{{'preconisation.view.text1' | translate}}</h2>
        <div *ngIf="exemplaire.contientRessources == true" class="tableMissions card table-responsive">
            <table class="table table-striped table-sm table-inverse table-bordered">
                <thead class="thead-inverse">
                    <tr>
                        <th>{{'ressource.table.title8' | translate}}</th>
                        <th>{{'ressource.table2.title5' | translate}}</th>
                        <th>{{'ressource.table2.title7' | translate}}</th>
                        <th>{{'ressource.table2.title10' | translate}}</th>
                        <th>{{'attributs.table.title2' | translate}}</th>
                        <th>{{'document.exemplaire.text2' | translate}}</th>
                        <th *ngIf="exemplaire.contientDistributeurs == true">{{'preconisation.table.title5' | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let ressourcesExemplaire of mouvements">
                        <td>{{ressourcesExemplaire.ressource.libelle}}</td>
                        <td>{{ressourcesExemplaire.quantite}}</td>
                        <td>{{ressourcesExemplaire.prix}}</td>
                        <td>{{ressourcesExemplaire.quantite*ressourcesExemplaire.prix}}</td>
                        <td>{{ressourcesExemplaire.description}}</td>
                        <td>{{ressourcesExemplaire.datePeremption | date:'dd/MM/yyyy' }}</td>
                        <td *ngIf="exemplaire.contientDistributeurs == true">{{ressourcesExemplaire.distributeur?.raisonSocial!}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="options" style="justify-content: space-between; display: flex;">
        <div>
            <button type="button" [routerLink]="['/exemplaire-nouveau/modify/',exemplaire.id]" class="btn btn-outline-info">
                <i class="fas fa-pen"></i>
                {{'lists.button7' | translate}}
            </button>
            <button type="button" class="btn btn-outline-danger">
                <i class="fas fa-trash"></i>
                {{'lists.button8' | translate}}
            </button>
        </div>

        <div style="justify-content: space-between; display: flex;">
            <select *ngIf="EtatsSuivant.length >= 1" class="form-select" aria-label="Default select example">
                <option selected>Etat</option>
                <option *ngFor="let etat of EtatsSuivant" (click)="orderSuivant(etat.etat)">{{etat.etat.libelle}}</option>
              </select>
    
              <p *ngIf="error" class="text-warning h5">{{ error}}</p>
            <button *ngIf="reponse.sol" (click)="etatsSuivants()" type="button" class="btn btn-outline-success">
                <i class="fas fa-check"></i>
                {{'lists.button6' | translate}}
            </button>
        </div>
    </div>
</div>
